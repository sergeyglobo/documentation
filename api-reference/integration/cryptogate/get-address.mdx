---
title: "Получение адреса пользователя"
description: "Как сгенерировать депозитный криптоадрес для выбранной сети и пользователя"
sidebarTitle: "2. Адрес пользователя"
---

Сразу после выбора сети и актива запросите уникальный адрес пользователя через `POST /gate/get-address`.

<Steps>
  <Step title="Сформируйте тело запроса">
    Минимальный состав: `payment_profile`, `user.user_id`, `crypto_network`. Добавьте `crypto_asset`, если нужно зафиксировать монету.

    <Expandable title="Параметры запроса">
      <ParamField body="payment_profile" type="string" required>
        Платёжный профиль.
      </ParamField>
      <ParamField body="project_id" type="string">
        Идентификатор проекта.
      </ParamField>
      <ParamField body="user" type="object" required>
        Объект пользователя с обязательным `user_id`.
      </ParamField>
      <ParamField body="crypto_network" type="string" required>
        Сеть криптовалюты (например, `TRX`, `MATIC`, `ETH`).
      </ParamField>
      <ParamField body="crypto_asset" type="string">
        Опционально: конкретный актив (`USDT`, `USDC`, `TRX`).
      </ParamField>
      <ParamField body="url_callback" type="string">
        Адрес приёма колбеков.
      </ParamField>
      <ParamField body="description" type="string">
        Описание операции (отобразится в колбеках).
      </ParamField>
      <ParamField body="report_metadata" type="string">
        Идентификатор для финансовых отчётов (до 255 символов).
      </ParamField>
    </Expandable>
  </Step>

  <Step title="Отправьте запрос">
    <RequestExample>
    ```bash gate/get-address
    curl --request POST \
      --url https://sandbox.finmar.tech/gate/get-address \
      --header "Authorization: Basic BASE64_LOGIN_PASSWORD" \
      --header "Content-Type: application/json" \
      --data '{
        "payment_profile": "sandbox",
        "project_id": "preview",
        "crypto_network": "TRX",
        "crypto_asset": "USDT",
        "user": { "user_id": "123" },
        "url_callback": "https://merchant.example.com/cryptogate/callback",
        "description": "Deposit address for TRX/USDT"
      }'
    ```
    </RequestExample>
  </Step>

  <Step title="Получите адрес">
    <ResponseExample>
    ```json Success
    {
      "success": true,
      "trace_id": "c0f5e1af2d404f4f9b3f4e3aa4e2481e",
      "result": { "address": "TFQsv4umwyrBwgzM6adZdpTHvpYZrZLUYG" }
    }
    ```
    </ResponseExample>

    <Check>
      Сохраните `trace_id`, `user_id` и `address` — они понадобятся для сопоставления колбеков и исключения двойного зачисления.
    </Check>
  </Step>
</Steps>

<Warning>
  Передавайте `url_callback` по HTTPS и держите его доступным для публичных POST-запросов.
</Warning>

