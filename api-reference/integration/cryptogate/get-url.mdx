---
title: "Получение виджета с адресом"
description: "Как получить ссылку на виджет криптоадреса в iframe или новом окне"
sidebarTitle: "3. Виджет адреса"
---

Используйте `POST /gate/get-url`, чтобы открыть криптогейт в iframe или новом окне с предустановленными параметрами пользователя, сети и редиректов.

<Steps>
  <Step title="Подготовьте параметры">
    Передайте `payment_profile`, `user.user_id`, нужную сумму или сеть/актив, а также callback и редиректы.

    <Expandable title="Параметры запроса">
      <ParamField body="payment_profile" type="string" required>
        Платёжный профиль. Используйте `production`.
      </ParamField>
      <ParamField body="project_id" type="string">
        Идентификатор проекта. Опциональный параметр.
      </ParamField>
      <ParamField body="user" type="object" required>
        Объект пользователя с обязательным `user_id`.
      </ParamField>
 
      <ParamField body="crypto_network" type="string">
        Сеть криптовалюты (например, `TRX`, `ETH`), из ответа метода 
      </ParamField>
      <ParamField body="crypto_asset" type="string">
        Криптоактив (например, `TRX`, `USDT`)
      </ParamField>

    </Expandable>
  </Step>

  <Step title="Выполните запрос">
    <RequestExample>
    ```bash gate/get-url
 curl --location --request POST 'https://finmar.tech/prepare2/api/v3/gate/get-url' \
--header 'Content-Type: application/json' \
--header 'Authorization: Basic b3BlcmF0b3JfZGVtbzojdShQcVJAeEQ1N0c=' \
--data '{
  "user": {
    "user_id": "123"
  },
  "payment_profile": "production",
  "crypto_network": "TRX",
  "crypto_asset":"TRX"
}'
    ```
    </RequestExample>
  </Step>

  <Step title="Отобразите виджет">
    <ResponseExample>
    ```json Success
 {
    "success": true,
    "result": {
        "url": "https://crypto.makelod.com/gate/pobeda.html?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXF1ZXN0X2lkIjoiZTNhYjA5MGQtYTY1ZS00YmE2LWJiNTEtNTZkNTI0MDJiNWNiIiwicHJvamVjdCI6Im9wZXJhdG9yX2RlbW8iLCJjb250YWN0IjoiIiwidXNlcl9pZCI6IjEyMyIsImxvY2FsZSI6ImVuIiwiYWxpYXMiOiIiLCJzb3VyY2VzIjpbeyJ0b2tlbiI6IlRSWCIsInR5cGUiOiJUUlgiLCJjaGFpbl9pZCI6Ik1haW5uZXQiLCJsaW1pdHMiOnsibWluIjoiMCIsIm1heCI6IjEifX1dLCJ0YXJnZXQiOnsiY29kZSI6IlVTRCJ9LCJpYXQiOjE3Njk1MTc2MDB9.y7B5fc125NY3hD8MMml3xmix4CA7zJCPq-WWQ8KReHE"
    },
    "trace_id": "d22a255307834309bd96e95be3a25690"
}
    ```
    </ResponseExample>

    <Tip>
      Направьте пользователя на возвращённый `result.url` удобным способом.
    </Tip>
  </Step>

    <Step title="Обработайте обратное уведомление">
    
    
  </Step>
</Steps>

 
